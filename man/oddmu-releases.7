.\" Generated by scdoc 1.11.3
.\" Complete documentation for this program is not available as a GNU info page
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.nh
.ad l
.\" Begin generated content:
.TH "ODDMU-RELEASES" "7" "2024-03-10"
.PP
.SH NAME
.PP
oddmu-releases - what'\&s new in this releases?\&
.PP
.SH DESCRIPTION
.PP
This page lists user-visible features and template changes to consider.\&
.PP
.SS 1.9 (2024)
.PP
There is a change to make to copies of \fIupload.\&html\fR if subdirectories are being
used.\& The \fILast\fR property no longer contains the directory.\& It has to be added
to the template as follows:
.PP
.nf
.RS 4
{{if ne \&.Last ""}}
<p>Previous upload: <a href="/view/{{\&.Dir}}{{\&.Last}}">{{\&.Last}}</a></p>
{{if \&.Image}}
<p><img class="last" src="/view/{{\&.Dir}}{{\&.Last}}"></p>
{{end}}
{{end}}
.fi
.RE
.PP
You can use the \fILast\fR property without a directory to suggest the markup to
use, for example:
.PP
.nf
.RS 4
<p>Use the following for <a href="/view/{{\&.Dir}}{{\&.Today}}">{{\&.Today}}</a>:
<pre>![]({{\&.Last}})</a></pre>
.fi
.RE
.PP
The upload template can use the \fIToday\fR property.\&
.PP
The upload template comes with JavaScript that allows users to paste images or
drag and drop files.\&
.PP
The upload template changed the id for the filename field from `text` to `name`.\&
.PP
The source repository now comes with example templates.\&
.PP
.SS 1.8 (2024)
.PP
No user-visible changes.\& Documentation and code comments got better.\&
.PP
.SS 1.7 (2024)
.PP
Allow upload of multiple files.\& This requires an update to the \fIupload.\&html\fR
template: Add the \fImultiple\fR attribute to the file input element and change the
label from "file" to "files".\&
.PP
Fix orientation of uploaded images.\& JPG and HEIC images have EXIF data telling a
viewer how to orient the image.\& Oddmu now uses this information to rotate the
image correctly before stripping it.\&
.PP
The version command now displays much less information unless given the -full
argument.\&
.PP
.SS 1.6 (2024)
.PP
Add \fIarchive\fR action to serve a zip file.\&
.PP
.SS 1.5 (2024)
.PP
Filtering separate sites in subdirectories via the ODDMU_FILTER environment
variable in order to exclude them from the \fIsearch\fR action.\&
.PP
Add \fIversion\fR subcommand.\&
.PP
Add filesystem watchers to automatically reindex changed pages and reload
changed templates.\&
.PP
When rendering a page, use templates in the same directory, if available.\&
.PP
Delete uploaded files by uploading a file with zero bytes.\&
.PP
.SS 1.4 (2024)
.PP
If stdin is a Unix-domain socket, use that to serve the site.\& Otherwise, allow
specifying a listen address via the ODDMU_ADDRESS environment variable.\&
.PP
.SS 1.3 (2024)
.PP
Add support for resizing HEIC images (and saving them as JPG files).\&
.PP
.SS 1.2 (2023)
.PP
Add \fIlist\fR subcommand.\&
.PP
.SS 1.1 (2023)
.PP
Rewrote most of the README into man pages.\&
.PP
Add fediverse account rendering if ODDMU_WEBFINGER is set.\&
.PP
Add notifications when saving files: adding links to \fIindex\fR, \fIchanges\fR and
\fIhashtag\fR pages.\&
.PP
Add \fIreplace\fR subcommand.\& Add \fImissing\fR subcommand.\& Add \fInotify\fR command.\& Add
\fIstatic\fR command.\&
.PP
Add \fIdiff\fR action.\&
.PP
Add feed generation based on the local links from a page.\&
.PP
Add caching support by considering the If-Modified-Since header in requests and
providing a Last-Modified header in responses.\&
.PP
Handle HEAD requests.\&
.PP
Remove HTML sanitization.\&
.PP
Remove MathJax support from the wiki parser.\& The templates never included the
necessary MathJax JavaScript anyway so the special handling of $ was just an
annoyance.\&
.PP
Drop trigram index and just search all the files.\& This takes much less RAM and
doesn'\&t take too much time even with a few thousand pages.\&
.PP
Add "blog:true" and "blog:false" predicates to search.\&
.PP
Limit search to the current directory tree.\&
.PP
Do not overwrite fresh backups: there must be a 1h break before the backup is
overwritten.\&
.PP
.SS 1.0 (2023)
.PP
Paginate search results and no longer sort search results by score.\&
.PP
.SS 0.9 (2023)
.PP
Add image resizing.\&
.PP
Add wiki links in double square brackets to the parser.\&
.PP
.SS 0.8 (2023)
.PP
Rename files to backups before saving.\&
.PP
Rename the \fIsaveUpload\fR action to \fIdrop\fR.\&
.PP
Add the \fIsearch\fR subcommand.\&
.PP
.SS 0.7 (2023)
.PP
Add \fIupload\fR and \fIsaveUpload\fR action so that one can upload files.\&
.PP
Add \fIhtml\fR subcommand.\&
.PP
.SS 0.6 (2003)
.PP
Add \fIadd\fR and \fIappend\fR action so that one can add to an existing page.\& This is
important for me as editing pages on the phone can be cumbersome but leaving
comments on my own site has always been easy to do.\&
.PP
Serve all existing files, not just text files.\&
.PP
Save an empty page to delete it.\&
.PP
Changed default permissions from 600 to 644 for files and from 700 to 755 for
directories.\&
.PP
Make language detection configurable using an environment variable.\&
.PP
.SS 0.5 (2023)
.PP
Add hyphenation to templates using Peter M.\& Stahl'\&s Lingua library.\&
.PP
.SS 0.4 (2023)
.PP
Create subdirectories as necessary.\&
.PP
.SS 0.3 (2023)
.PP
Add \fIsearch\fR action using Damian Gryski'\&s trigram indexing, with scoring,
highlighting and snippet extraction.\&
.PP
.SS 0.2 (2023)
.PP
Switch to Krzysztof Kowalczyk'\&s Go Markdown fork of Blackfriday to render
Markdown.\& Use Dee'\&s Bluemonday to sanitize HTML.\&
.PP
Switch to GNU Affero GPL 3 license.\&
.PP
Serve text files (.\&txt).\&
.PP
Support serving on any port via the environment variable ODDMU_PORT.\&
.PP
.SS 0.1 (2015)
.PP
A web server that allows editing files in Wiki Creole Matt Self'\&s Cajun library.\&
Supported actions are \fIedit\fR, \fIsave\fR, and \fIview\fR.\&
.PP
.SH SEE ALSO
.PP
\fIoddmu\fR(1)
.PP
.SH AUTHORS
.PP
Maintained by Alex Schroeder <alex@gnu.\&org>.\&

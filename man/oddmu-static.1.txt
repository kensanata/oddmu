ODDMU-STATIC(1)

# NAME

oddmu-static - create a static copy of the site

# SYNOPSIS

*oddmu static* _dir-name_

# DESCRIPTION

The "static" subcommand generates a static copy of the pages in the current
directory and saves them in the given destination directory. The destination
directory must not exist.

All pages (files with the ".md" extension) are turned into HTML files (with the
".html" extension) using the "static.html" template. Links pointing to existing
pages get ".html" appended.

Hidden files and directories (starting with a ".") and backup files (ending with
a "~") are skipped.

All other files are _hard linked_. This is done to save space: on a typical blog
the images take a lot more space than the text. On my blog in 2023 I had 2.62
GiB of JPG files and 0.02 GiB of Markdown files. There is no point in copying
all those images, most of the time.

Note, however: Hard links cannot span filesystems. A hard link is just an extra
name for the same file. This is why the destination directory for the static
site has to be on same filesystem as the current directory, if it contains any
other place.

Furthermore, in-place editing changes the file for all names. Avoid editing the
image files in the destination directory, just to be on the safe side.

# EXAMPLE

Generate a static copy of the site:

```
oddmu static ../archive
```

# LIMITATIONS

Links from files to pages do not get ".html" appended. This affects existing
HTML or XML files including SVG files.

Links to absolute URLs (starting with "/") are not changed at all. It is up to
you to migrate static folders and applications.

# ENVIRONMENT

The ODDMU_WEBFINGER environment variable has no effect in this situation.
Fediverse accounts are not linked to their profile pages. Since the data isn't
cached, every run of this command would trigger a webfinger request for every
fediverse account mentioned.

If the site is large, determining the language of a page slows things down. Set
the ODDMU_LANGUAGES environment variable to a comma-separated list of ISO 639-1
codes, e.g. "en" or "en,de,fr,pt" to limit the languages loaded and thereby
speed language determination up.

# SEE ALSO

_oddmu_(1), _oddmu-templates_(5)

# AUTHORS

Maintained by Alex Schroeder <alex@gnu.org>.

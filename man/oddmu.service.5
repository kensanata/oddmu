.\" Generated by scdoc 1.11.2
.\" Complete documentation for this program is not available as a GNU info page
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.nh
.ad l
.\" Begin generated content:
.TH "ODDMU.SERVICE" "5" "2023-09-18"
.PP
.SH NAME
.PP
oddmu.\&service - how to setup Oddmu using systemd
.PP
.SS DESCRIPTION
.PP
Here'\&s how to setup a wiki using systemd such that it starts
automatically when the system boots and gets restarted automatically
when it crashes.\&
.PP
First, create a new user called "oddmu" with it'\&s own home directory
but without a login.\&
.PP
.nf
.RS 4
adduser --system --home /home/oddmu oddmu
.fi
.RE
.PP
The directory "/home/oddmu" contains the templates and all the data
files.\& Copy all the tempaltes files ending in ".\&html" from the source
distribution to "/home/oddmu".\&
.PP
If you want to keep everything in one place, copy the binary "oddmu"
and the service file "oddmu.\&service" to "/home/oddmu", too.\&
.PP
Edit the `oddmu.\&service` file.\& These are the three lines you most
likely have to take care of:
.PP
.nf
.RS 4
ExecStart=/home/oddmu/oddmu
WorkingDirectory=/home/oddmu
Environment="ODDMU_PORT=8080"
Environment="ODDMU_LANGUAGES=en,de"
.fi
.RE
.PP
Install the service file and enable it:
.PP
.nf
.RS 4
ln -s /home/oddmu/oddmu\&.service /etc/systemd/system/
systemctl enable --now oddmu
.fi
.RE
.PP
You should be able to visit the wiki at
http://localhost:8080/.\&
.PP
Check the log:
.PP
.nf
.RS 4
journalctl --unit oddmu
.fi
.RE
.PP
Follow the log:
.PP
.nf
.RS 4
journalctl --follow --unit oddmu
.fi
.RE
.PP
.SH SEE ALSO
.PP
\fIoddmu\fR(1), \fIsystemd.\&exec\fR(5), \fIcapabilities\fR(7)
.PP
.SH AUTHORS
.PP
Maintained by Alex Schroeder <alex@gnu.\&org>.\&
